{"version":3,"sources":["../../src/pages/upload/upload.module.ts","../../src/models/SN1/SN1.ts","../../src/pages/upload/upload.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { UploadPage } from './upload';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UploadPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(UploadPage),\r\n  ],\r\n})\r\nexport class UploadPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/upload/upload.module.ts","import { SN1P1 } from \"./SN1P1\";\r\nimport { SN1P2 } from \"./SN1P2\";\r\n\r\n\r\nexport class SN1 {\r\n    SN1_ID:string;\r\n    create_time:Date;\r\n    SN1P1:SN1P1;\r\n    SN1P2:SN1P2[];\r\n    status_approve:number;\r\n    status_data:number;\r\n    messeges:{\r\n        date:Date;\r\n        massage:string;\r\n    }[];\r\n    submit_date:Date;\r\n} \n\n\n// WEBPACK FOOTER //\n// ./src/models/SN1/SN1.ts","import { HttpProvider } from './../../providers/http/http';\r\nimport { SN1 } from './../../models/SN1/SN1';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, ToastController, Events, AlertController } from 'ionic-angular';\r\nimport { SN2_2 } from '../../models/SN2_2/SN2_2';\r\nimport { Storage } from '@ionic/storage';\r\nimport { User } from '../../models/user';\r\n\r\n/**\r\n * Generated class for the UploadPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage({\r\n  name: 'upload'\r\n})\r\n@Component({\r\n  selector: 'page-upload',\r\n  templateUrl: 'upload.html',\r\n})\r\nexport class UploadPage {\r\n  sn1: SN1;\r\n  sn22: Array<SN2_2>;\r\n  flag1: boolean;\r\n  flag2: boolean;\r\n  noUpload: boolean = true;\r\n  user:User;\r\n  EAList;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, private loadingController: LoadingController, private httpProvider: HttpProvider, private toastCtrl: ToastController, private storage: Storage, private events: Events,private alertCtrl:AlertController) {\r\n    this.sn1 = this.navParams.get(\"sn1\");\r\n    this.sn22 = this.navParams.get(\"sn22\");\r\n    this.user = this.navParams.get(\"User\");\r\n    this.EAList = this.navParams.get(\"EaList\");\r\n  }\r\n  home() {\r\n    this.storage.set(\"sn1\", this.sn1).then(() => {\r\n      this.events.publish('noSave');\r\n      this.storage.set(\"sn22\", this.sn22).then(() => {\r\n        this.events.publish('noSave2');\r\n        this.navCtrl.pop();\r\n      });\r\n    });\r\n\r\n\r\n  }\r\n  ionViewDidLoad() {\r\n    //console.log('ionViewDidLoad UploadPage');\r\n    this.checkStatus();\r\n    this.noUpload = true;\r\n  }\r\n  checkStatus() {\r\n    this.flag1 = this.sn1.SN1P2.filter(sn => sn.status == 4).length != 0\r\n    this.flag2 = this.sn22.filter(sn => sn.status == 4).length != 0\r\n    //console.log(this.sn22)\r\n  }\r\n  upload() {\r\n    let loading = this.loadingController.create({\r\n      content: \"กำลังส่งแบบฟอร์ม กรุณารอสักครู่...\",\r\n    });\r\n    loading.present();\r\n    let date = new Date();\r\n    if (this.sn1) {\r\n      for (let i in this.sn1.SN1P2) {\r\n        if (this.sn1.SN1P2[i].status == 4) {\r\n          this.sn1.SN1P2[i].status = 6\r\n          try{\r\n          if (this.sn1.SN1P2[i].H3)\r\n            if (this.sn1.SN1P2[i].H3.length > 0)\r\n              this.sn1.SN1P2[i].H3.map(l => {\r\n                l.submit_date = date\r\n                if (!l.G1) {\r\n                  l.SN2_1.A1 = null;\r\n                  l.SN2_1.A6 = null;\r\n                }\r\n                if (!l.G2)\r\n                  l.SN2_1.A2 = null;\r\n                if (!l.G3)\r\n                  l.SN2_1.A3 = null;\r\n                if (!l.G4)\r\n                  l.SN2_1.A4 = null;\r\n              });\r\n          }catch(e){\r\n            \r\n          }\r\n        }\r\n      }\r\n      this.sn1.submit_date = date;\r\n      let sn1 = this.sn1;\r\n\r\n\r\n      if (sn1.SN1P2.length != 0) {\r\n\r\n        this.httpProvider.saveSN1(sn1).subscribe((result) => {\r\n          //console.log(result);\r\n          this.checkStatus();\r\n          this.presentToast('งาน');\r\n        }, (error) => {\r\n          console.log(\"error: \"+error);\r\n          const alert = this.alertCtrl.create({\r\n            title: 'เกิดปัญหาขณะส่งข้อมูล',\r\n            subTitle: 'รหัสข้อผิดพลาด: '+error,\r\n            buttons: [{\r\n              text: 'ยืนยัน',\r\n              handler: () => {\r\n    \r\n              }\r\n            }]\r\n          });\r\n          alert.present();\r\n          if (this.sn1) {\r\n            for (let i in this.sn1.SN1P2) {\r\n              if (this.sn1.SN1P2[i].status == 6) {\r\n                this.sn1.SN1P2[i].status = 4\r\n              }\r\n            }\r\n          }\r\n\r\n        })\r\n      }\r\n    }\r\n    if (this.sn22) {\r\n      for (let i in this.sn22) {\r\n        if (this.sn22[i].status == 4) {\r\n          this.sn22[i].status = 6\r\n          this.sn22[i].submit_date = date;\r\n        }\r\n      }\r\n      let sn2_2 = this.sn22;\r\n\r\n\r\n      if (sn2_2.length != 0) {\r\n        for (let s of sn2_2) {\r\n          this.httpProvider.saveSN2_2(s).subscribe((result) => {\r\n            //console.log(result);\r\n            this.checkStatus();\r\n            this.presentToast('งาน');\r\n          }, (error:Response) => {\r\n            console.log(error.status);\r\n            const alert = this.alertCtrl.create({\r\n              title: 'เกิดปัญหาขณะส่งข้อมูล',\r\n              subTitle: 'รหัสข้อผิดพลาด: '+error,\r\n              buttons: [{\r\n                text: 'ยืนยัน',\r\n                handler: () => {\r\n      \r\n                }\r\n              }]\r\n            });\r\n            alert.present();\r\n          })\r\n        }\r\n\r\n      }\r\n    }\r\n    this.noUpload = false;\r\n    loading.dismiss();\r\n  }\r\n  refresh() {\r\n    this.httpProvider.downloadSN1(this.user.USERID).timeout(60000).subscribe((newSn1) => {\r\n      //console.log(\"New SN1\");\r\n      //console.log(newSn1.json());\r\n      \r\n      for (let i in newSn1) {\r\n        let newSN = new SN1();\r\n        newSN = newSn1.json()[i];\r\n        //console.log(newSN)\r\n        //console.log(this.sn1)\r\n        if (newSN != null) {\r\n          if (this.sn1 == null || this.sn1.SN1P2.length == 0) {\r\n            //console.log('1');\r\n            if (newSN.SN1_ID == this.sn1.SN1_ID) {\r\n              //console.log('2');\r\n              this.sn1 = newSN;\r\n              this.sn1.SN1P2 = newSN.SN1P2.filter(sn => sn.status == 6 || sn.status == 10)\r\n              \r\n            }\r\n          }\r\n          else {\r\n            if (newSN.SN1_ID == this.sn1.SN1_ID) {\r\n\r\n              this.sn1.status_approve = newSN.status_approve;\r\n              // //console.log('3');\r\n              for (let index in this.sn1.SN1P2) {\r\n                  let sn = newSN.SN1P2.filter(sn => (sn.A1 == this.sn1.SN1P2[index].A1) && (sn.status == 6 || sn.status == 10));\r\n                  if(sn.length == 1){\r\n                    if(this.sn1.SN1P2[index].version){\r\n                      if(sn[0].version){\r\n                        if (this.sn1.SN1P2[index].version < sn[0].version)\r\n                          this.sn1.SN1P2[index] = sn[0];\r\n                      }else\r\n                        this.sn1.SN1P2[index] = sn[0];\r\n                      \r\n                    }\r\n                  }\r\n                }\r\n            }\r\n\r\n          }\r\n\r\n          this.storage.set('sn1', this.sn1);\r\n        }\r\n      }\r\n    }, (error) => {\r\n      \r\n    });\r\n    this.httpProvider.downloadSN22(this.user.USERID).timeout(60000).subscribe((newSn1) => {\r\n      //console.log(\"New SN22\");\r\n      //console.log(newSn1.json());\r\n\r\n      let newSN = Array<SN2_2>();\r\n      newSN = newSn1.json();\r\n      if (newSN != null) {\r\n        let ea = this.EAList[0];\r\n        if (this.sn22 == null || this.sn22.length == 0) {\r\n          //console.log('11');\r\n          this.sn22=[]\r\n          for(let i of newSN){\r\n            //console.log(\"------------i------------\")\r\n            //console.log(i)\r\n            if(i.SN2_2_ID.substring(0, i.SN2_2_ID.length - 1)== \"\" + ea.REG + ea.CWT + ea.AMP + ea.TAM + ea.DISTRICT + ea.EA)\r\n              this.sn22.push(i)\r\n          }\r\n          \r\n        }\r\n        else {\r\n          for(let i of newSN){\r\n            if(i.SN2_2_ID.substring(0, i.SN2_2_ID.length - 1)== \"\" + ea.REG + ea.CWT + ea.AMP + ea.TAM + ea.DISTRICT + ea.EA)\r\n            {\r\n                let flag =true;\r\n                for(let sn in this.sn22){\r\n                  if(this.sn22[sn].SN2_2_ID == i.SN2_2_ID){\r\n                    if(this.sn22[sn].version < i.version)\r\n                    this.sn22[sn]=i;\r\n                    flag =false;\r\n                  }\r\n                }\r\n                if(flag){\r\n                  this.sn22.push(i);\r\n                }\r\n                \r\n              }\r\n              \r\n          }\r\n          \r\n        }\r\n        this.storage.set('sn22', this.sn22);\r\n      }\r\n    }, (error) => {\r\n\r\n    });\r\n   \r\n  }\r\n  presentToast(msg) {\r\n    let toast = this.toastCtrl.create({\r\n      message: 'ส่ง' + msg + 'เรียบร้อย',\r\n      duration: 3000,\r\n      position: 'top'\r\n    });\r\n\r\n    toast.onDidDismiss(() => {\r\n      //console.log('Dismissed toast');\r\n    });\r\n\r\n    toast.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/upload/upload.ts"],"sourceRoot":""}